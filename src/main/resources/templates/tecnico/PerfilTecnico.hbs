{{#partial "contenido"}}
    <hr class="my-3 border-0">
    <section class="container mt-4">
        <div class="row mb-4">
            <div class="col-md-6">
                <h1 class="h1">Detalles del Técnico</h1>
            </div>
            <div class="col-md-6 text-md-end">
                <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal"
                        data-bs-target="#editTechnicianModal">
                    Modificar Técnico
                </button>
            </div>
        </div>
        <div class="row mb-4">
            <div class="col-md-12">
                <form id="technicianForm">
                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <label for="id" class="form-label">ID</label>
                            <input type="text" class="form-control" id="id" value="{{tecnico.id}}" readonly>
                        </div>
                        <div class="col-lg-6">
                            <label for="nombre" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="nombre" value="{{tecnico.nombre}}" readonly>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <label for="apellido" class="form-label">Apellido</label>
                            <input type="text" class="form-control" id="apellido" value="{{tecnico.apellido}}" readonly>
                        </div>
                        <div class="col-lg-6">
                            <label for="tipoDocumento" class="form-label">Tipo de Documento</label>
                            <input type="text" class="form-control" id="tipoDocumento" value="{{tecnico.tipoDocumento}}" readonly>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <label for="dni" class="form-label">DNI</label>
                            <input type="text" class="form-control" id="dni" value="{{tecnico.dni}}" readonly>
                        </div>
                        <div class="col-lg-6">
                            <label for="cuil" class="form-label">CUIL</label>
                            <input type="text" class="form-control" id="cuil" value="{{tecnico.cuil}}" readonly>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <label for="areaCobertura" class="form-label">Área de Cobertura</label>
                            <input type="text" class="form-control" id="areaCobertura" value="{{tecnico.areaCobertura}}" readonly>
                        </div>
                        <div class="col-lg-6">
                            <label for="coordenada" class="form-label">Coordenada</label>
                            <input type="text" class="form-control" id="coordenada" value="{{tecnico.coordenada}}" readonly>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-6">
                            <label for="disponible" class="form-label">Disponible</label>
                            <input type="text" class="form-control" id="disponible" value="{{tecnico.disponible}}" readonly>
                        </div>
                        <div class="col-lg-6">
                            <label for="usuario" class="form-label">Usuario</label>
                            <input type="text" class="form-control" id="usuario" value="{{tecnico.usuario}}" readonly>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <label for="mediosDeComunicacion" class="form-label">Medios de Comunicación</label>
                            <ul>
                                {{#each tecnico.mediosDeComunicacion}}
                                    <li>{{this}}</li>
                                {{/each}}
                            </ul>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-lg-12">
                            <label for="contactos" class="form-label">Contactos</label>
                            <ul>
                                {{#each tecnico.contactos}}
                                    <li>{{this}}</li>
                                {{/each}}
                            </ul>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <div class="modal modal-lg fade" id="editTechnicianModal" tabindex="-1" aria-labelledby="editTechnicianModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editTechnicianModalLabel">Modificar Técnico</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editTechnicianForm" action="/guardarCambiosTecnico" method="post">
                        <!-- Aquí van los campos de entrada para el técnico -->
                        <div class="row mb-3">
                            <div class="col-lg-6">
                                <label for="editNombre" class="form-label">Nombre</label>
                                <input type="text" class="form-control" name="nombre" id="editNombre" value="{{tecnico.nombre}}">
                            </div>
                            <div class="col-lg-6">
                                <label for="editApellido" class="form-label">Apellido</label>
                                <input type="text" class="form-control" name="apellido" id="editApellido" value="{{tecnico.apellido}}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-6">
                                <label for="editTipoDocumento" class="form-label">Tipo de Documento</label>
                                <input type="text" class="form-control" name="tipoDocumento" id="editTipoDocumento" value="{{tecnico.tipoDocumento}}">
                            </div>
                            <div class="col-lg-6">
                                <label for="editDni" class="form-label">DNI</label>
                                <input type="text" class="form-control" name="dni" id="editDni" value="{{tecnico.dni}}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-6">
                                <label for="editCuil" class="form-label">CUIL</label>
                                <input type="text" class="form-control" name="cuil" id="editCuil" value="{{tecnico.cuil}}">
                            </div>
                            <div class="col-lg-6">
                                <label for="editAreaCobertura" class="form-label">Área de Cobertura</label>
                                <input type="text" class="form-control" name="areaCobertura" id="editAreaCobertura" value="{{tecnico.areaCobertura}}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-6">
                                <label for="editCoordenada" class="form-label">Coordenada</label>
                                <input type="text" class="form-control" name="coordenada" id="editCoordenada" value="{{tecnico.coordenada}}">
                            </div>
                            <div class="col-lg-6">
                                <label for="editDisponible" class="form-label">Disponible</label>
                                <input type="text" class="form-control" name="disponible" id="editDisponible" value="{{tecnico.disponible}}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-12">
                                <label for="editUsuario" class="form-label">Usuario</label>
                                <input type="text" class="form-control" name="usuario" id="editUsuario" value="{{tecnico.usuario}}">
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-12">
                                <label for="editMediosDeComunicacion" class="form-label">Medios de Comunicación</label>
                                <ul>
                                    {{#each tecnico.mediosDeComunicacion}}
                                        <li>{{this}}</li>
                                    {{/each}}
                                </ul>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-lg-12">
                                <label for="editContactos" class="form-label">Contactos</label>
                                <ul>
                                    {{#each tecnico.contactos}}
                                        <li>{{this}}</li>
                                    {{/each}}
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="confirmSaveTechnicianChanges">Guardar Cambios</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmación -->
    <div class="modal fade" id="confirmTechnicianModal" tabindex="-1" aria-labelledby="confirmTechnicianModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmTechnicianModalLabel">Confirmar Cambios</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ¿Estás seguro de que deseas guardar los cambios en el perfil del técnico?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="sub" class="btn btn-primary" id="saveTechnicianChanges">Confirmar</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('confirmSaveTechnicianChanges').addEventListener('click', function () {
            const editTechnicianModal = bootstrap.Modal.getInstance(document.getElementById('editTechnicianModal'));
            editTechnicianModal.hide();
            document.getElementById('editTechnicianModal').addEventListener('hidden.bs.modal', function () {
                const confirmTechnicianModal = new bootstrap.Modal(document.getElementById('confirmTechnicianModal'));
                confirmTechnicianModal.show();
            }, {once: true});
        });
        document.getElementById('saveTechnicianChanges').addEventListener('click', function () {
            const confirmTechnicianModal = bootstrap.Modal.getInstance(document.getElementById('confirmTechnicianModal'));
            confirmTechnicianModal.hide();
            document.getElementById('editTechnicianForm').submit();
        });
        document.querySelector('#confirmTechnicianModal .btn-secondary').addEventListener('click', function () {
            const confirmTechnicianModal = bootstrap.Modal.getInstance(document.getElementById('confirmTechnicianModal'));
            confirmTechnicianModal.hide();
            document.getElementById('confirmTechnicianModal').addEventListener('hidden.bs.modal', function () {
                const editTechnicianModal = new bootstrap.Modal(document.getElementById('editTechnicianModal'));
                editTechnicianModal.show();
            }, {once: true});
        });
    </script>
{{/partial}}
{{> templates/base}}