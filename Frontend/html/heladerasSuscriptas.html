<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heladeras Suscriptas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/heladerasSuscriptas.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Heladeras Suscriptas</h1>
        
        <div class="row">
            <div class="col-md-6">
                <h2 class="solApertura">Solicitudes de Apertura</h2>

                <div class="card-container">
                    <div id="heladera-cards-solicitud" class="row">
                        <!-- Las tarjetas de heladera se generarán aquí dinámicamente -->
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <h2 class="apertura">Aperturas</h2>

                <div class="card-container">
                    <div id="heladera-cards-apertura" class="row">
                        <!-- Las tarjetas de heladera se generarán aquí dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // URL de la mock API
        const apiUrl = 'https://b3ef186a-59fe-41ca-b6ef-fc5f2fc7fff6.mock.pstmn.io/api/heladera/1'; // Verificá que esta URL sea correcta
    
        // Contenedor donde se van a agregar las heladeras
        const heladeraCardsContainer = document.getElementById('heladera-cards-solicitud');
    
        // Verificar si el contenedor existe
        if (!heladeraCardsContainer) {
            console.error('Contenedor "heladera-cards" no encontrado.');
        }
    
        // Función para crear una tarjeta de heladera
        function crearHeladeraCard(heladera) {
            const colDiv = document.createElement('div');
            colDiv.className = 'col-6 col-md-6 mb-3 centrar';
    
            const cardDiv = document.createElement('div');
            cardDiv.className = 'heladera-card card'; // Agregamos la clase "card" de Bootstrap para estilos
    
            // Agregar contenido a la tarjeta
            cardDiv.innerHTML = `
                
                <div class="card-body">
                    <h5 class="card-title">${heladera.nombre}</h5>
                    <p class="card-text">${heladera.ubicacion}</p>
                    <p class="card-text">${heladera.descripcion}</p>
                </div>
            `;
    
            colDiv.appendChild(cardDiv);
            heladeraCardsContainer.appendChild(colDiv);
        }
    
        // Función para obtener las heladeras de la API y generar las tarjetas
        function obtenerHeladeras() {
            console.log('Obteniendo heladeras...'); // Para verificar si la función se ejecuta
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Datos obtenidos:', data); // Para verificar la respuesta de la API
                    data.forEach(heladera => {
                        crearHeladeraCard(heladera);
                    });
                })
                .catch(error => console.error('Error al obtener las heladeras:', error));
        }
    
        // Llamar a la función para obtener y mostrar las heladeras
        obtenerHeladeras();
    </script>
    
        
</body>
</html>
